
	<!DOCTYPE html>
	<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width">

		<meta name="description" content="Global Mapping of Organizations Working on Gender and Migration"/>
		<meta name="keywords" content="womenâ€™s rights, labor rights, climate justice, development, democratization" />
		<meta name="author" content="No Borders To Equality" />
		<meta name="robots" content="index" />
		<meta http-equiv="cache-control" content="no-cache" />

		<meta property="og:url" content=""/>
		<meta property="og:type" content="website" />
		<meta property="og:title" content="No Borders To Equality"/>
		<meta property="og:description" content="Global Mapping of Organizations Working on Gender and Migration"/>
		<meta property="og:image" content="img/ogp.jpg"/>
		<meta property="og:image:alt" content="No Borders To Equality"/>
		<meta property="fb:page_id" content="#" />

		<link rel="apple-touch-icon" sizes="57x57" href="img/icons/apple-touch-icon-57x57.png">
		<link rel="apple-touch-icon" sizes="60x60" href="img/icons/apple-touch-icon-60x60.png">
		<link rel="apple-touch-icon" sizes="72x72" href="img/icons/apple-touch-icon-72x72.png">
		<link rel="apple-touch-icon" sizes="76x76" href="img/icons/apple-touch-icon-76x76.png">
		<link rel="apple-touch-icon" sizes="114x114" href="img/icons/apple-touch-icon-114x114.png">
		<link rel="apple-touch-icon" sizes="120x120" href="img/icons/apple-touch-icon-120x120.png">
		<link rel="apple-touch-icon" sizes="144x144" href="img/icons/apple-touch-icon-144x144.png">
		<link rel="apple-touch-icon" sizes="152x152" href="img/icons/apple-touch-icon-152x152.png">
		<link rel="apple-touch-icon" sizes="180x180" href="img/icons/apple-touch-icon-180x180.png">
		<link rel="icon" type="image/png" href="img/icons/favicon-32x32.png" sizes="32x32">
		<link rel="icon" type="image/png" href="img/icons/favicon-194x194.png" sizes="194x194">
		<link rel="icon" type="image/png" href="img/icons/favicon-96x96.png" sizes="96x96">
		<link rel="icon" type="image/png" href="img/icons/android-chrome-192x192.png" sizes="192x192">
		<link rel="icon" type="image/png" href="img/icons/favicon-16x16.png" sizes="16x16">

		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;700;900&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="css/styles.css?ver=1.2">
		<style>
			.gm-style .gm-style-iw-d {
				text-align: center;
			}
		</style>
		<title>Interactive Map</title>
	</head>
	<body>

		<div id="btnMenu" class="hamburger hamburger--spin onlyMob" onclick="buttonMenu()">
			<div class="hamburger-box">
				<div class="hamburger-inner"></div>
			</div>
		</div>

		<nav id="main-nav" class="navbar flexMob">
			<a class="link" href="index.html">HOME</a>
			<div class="subnav link">
				<a class="subnavbtn">ABOUT</a>
				<div class="subnav-content">
					<a class="sub-link" href="mapping-project.html">MAPPING PROJECT</a>
					<a class="sub-link" href="methodology.html">METHODOLOGY</a>
					<a class="sub-link" href="project-partners.html">PROJECT PARTNERS</a>
					<a class="sub-link" href="links.html">LINKS</a>
				</div>
			</div>
			<a class="link" href="interactive-data.html">INTERACTIVE DATA VISUALIZATION</a>
			<a class="link active" href="interactive-map.html">INTERACTIVE MAP</a>
			<a class="link" href="report.html">REPORT</a>
		</nav>

		<section class="container info-about">
			<h3 class="section-name">Interactive<br/>Map</h3>
			<p>
				Locate organizations working around the globe to address the intersection of gender and migration through frontline responses, research, advocacy, and mobilization in this interactive map
			</p>
			<div class="interactiveMap">
				<div class="map" id="map"></div>
			</div>
			
			<div class="container">
				<p class="disclaimer txtCenter">
					Disclaimer: Inclusion of organizations in the mapping does not constitute an endorsement by either WIMN or FES.<br/>The organizations mapped here are self-identified as working on gender and migration issues.
				</p>
			</div>
		</section>

		<div class="borderTop"></div>
		<div class="borderBottom section"></div>
		<div class="partners"></div>
		<div class="title-web-border txtRight">
			<h5>No Borders To Equality</h5>
			<p>Global Mapping of Organizations<br/>Working on Gender and Migration</p>
		</div>

		<footer class="onlyDesk">
			Developed by <a href="http://quintoimpacto.net/" target="_blank" rel="nofollow noreferrer">Quinto Impacto</a>
		</footer>
	</body>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

	<script>
			var organizations;
			function initMap() {
			var styledMapType = new google.maps.StyledMapType(
					[
						{
							"elementType": "geometry",
							"stylers": [
								{
									"color": "#ebe3cd"
								}
							]
						},
						{
							"elementType": "labels.text.fill",
							"stylers": [
								{
									"color": "#523735"
								}
							]
						},
						{
							"elementType": "labels.text.stroke",
							"stylers": [
								{
									"color": "#f5f1e6"
								}
							]
						},
						{
							"featureType": "administrative",
							"elementType": "geometry",
							"stylers": [
								{
									"visibility": "off"
								}
							]
						},
						{
							"featureType": "administrative",
							"elementType": "geometry.stroke",
							"stylers": [
								{
									"color": "#c9b2a6"
								}
							]
						},
						{
							"featureType": "administrative.land_parcel",
							"elementType": "geometry.stroke",
							"stylers": [
								{
									"color": "#dcd2be"
								}
							]
						},
						{
							"featureType": "administrative.land_parcel",
							"elementType": "labels.text.fill",
							"stylers": [
								{
									"color": "#ae9e90"
								}
							]
						},
						{
							"featureType": "landscape.natural",
							"elementType": "geometry",
							"stylers": [
								{
									"color": "#dfd2ae"
								}
							]
						},
						{
							"featureType": "poi",
							"stylers": [
								{
									"visibility": "off"
								}
							]
						},
						{
							"featureType": "poi",
							"elementType": "geometry",
							"stylers": [
								{
									"color": "#dfd2ae"
								}
							]
						},
						{
							"featureType": "poi",
							"elementType": "labels.text.fill",
							"stylers": [
								{
									"color": "#93817c"
								}
							]
						},
						{
							"featureType": "poi.park",
							"elementType": "geometry.fill",
							"stylers": [
								{
									"color": "#a5b076"
								}
							]
						},
						{
							"featureType": "poi.park",
							"elementType": "labels.text.fill",
							"stylers": [
								{
									"color": "#447530"
								}
							]
						},
						{
							"featureType": "road",
							"elementType": "geometry",
							"stylers": [
								{
									"color": "#f5f1e6"
								}
							]
						},
						{
							"featureType": "road",
							"elementType": "labels.icon",
							"stylers": [
								{
									"visibility": "off"
								}
							]
						},
						{
							"featureType": "road.arterial",
							"elementType": "geometry",
							"stylers": [
								{
									"color": "#fdfcf8"
								}
							]
						},
						{
							"featureType": "road.highway",
							"elementType": "geometry",
							"stylers": [
								{
									"color": "#f8c967"
								}
							]
						},
						{
							"featureType": "road.highway",
							"elementType": "geometry.stroke",
							"stylers": [
								{
									"color": "#e9bc62"
								}
							]
						},
						{
							"featureType": "road.highway.controlled_access",
							"elementType": "geometry",
							"stylers": [
								{
									"color": "#e98d58"
								}
							]
						},
						{
							"featureType": "road.highway.controlled_access",
							"elementType": "geometry.stroke",
							"stylers": [
								{
									"color": "#db8555"
								}
							]
						},
						{
							"featureType": "road.local",
							"elementType": "labels.text.fill",
							"stylers": [
								{
									"color": "#806b63"
								}
							]
						},
						{
							"featureType": "transit",
							"stylers": [
								{
									"visibility": "off"
								}
							]
						},
						{
							"featureType": "transit.line",
							"elementType": "geometry",
							"stylers": [
								{
									"color": "#dfd2ae"
								}
							]
						},
						{
							"featureType": "transit.line",
							"elementType": "labels.text.fill",
							"stylers": [
								{
									"color": "#8f7d77"
								}
							]
						},
						{
							"featureType": "transit.line",
							"elementType": "labels.text.stroke",
							"stylers": [
								{
									"color": "#ebe3cd"
								}
							]
						},
						{
							"featureType": "transit.station",
							"elementType": "geometry",
							"stylers": [
								{
									"color": "#dfd2ae"
								}
							]
						},
						{
							"featureType": "water",
							"elementType": "geometry.fill",
							"stylers": [
								{
									"color": "#b9d3c2"
								}
							]
						},
						{
							"featureType": "water",
							"elementType": "labels.text.fill",
							"stylers": [
								{
									"color": "#92998d"
								}
							]
						}
					],
						{ name: "WIMN" }
				);

				var latitude = 0;
				var longitude = 0;
				var zoom = 2; 

				var map = new google.maps.Map(document.getElementById('map'), {
					zoom : zoom,
					center : {
						lat : latitude,
						lng : longitude
					},
					mapTypeControlOptions: {
						mapTypeIds: ["roadmap", "styled_map"]
					}					
				});
				var styles = {
					default: null,
					hide: [
					{
						featureType: "poi.business",
						stylers: [{ visibility: "off" }]
					},
					{
						featureType: "transit",
						elementType: "labels.icon",
						stylers: [{ visibility: "off" }]
					}]
				};
				
				map.mapTypes.set("styled_map", styledMapType);
				map.setMapTypeId("styled_map");				
				var infowindow = new google.maps.InfoWindow();

				var marker, i;
				var markers = [];
				
				$.ajax({url: "https://wimn.quinto.site/api/organization/map",
				success: function(result){
					console.log('The api request was completed OK');
					organizations = JSON.parse(result);
					if(organizations != null){
						for (i = 0; i < organizations.length; i++) {
							marker = new google.maps.Marker(
							{
								position : new google.maps.LatLng(organizations[i].latitude, organizations[i].longitude),
								title: organizations[i].name,
								map : map,
								// icon : {
								// 	url: '/img/marcador.svg',
								// 	anchor: new google.maps.Point(25,50),
								// 	scaledSize: new google.maps.Size(50,50)	
								// }
							});
							markers.push(marker);

							google.maps.event.addListener(marker, 'click', (function(marker, i) {
								return function() {
									getOrganizationInfo(organizations[i].id, infowindow);
									infowindow.open(map, marker);
								}
							})(marker, i));				
						}
					}


					new MarkerClusterer(map, markers, {
    					  imagePath: '/map/images/m',
  					});

					console.log(markers[0]);
				}, error: function (result){
						console.log("The api request was not completed");
					}
				});
			}
		
			function getOrganizationInfo(id, infowindow){
				$.ajax({
					url : 'https://wimn.quinto.site/api/organization/map/' + id,
					type : 'GET',
					success: function (data){
						var info = JSON.parse(data);
						var content = "<br/><span style='text-align=center'><h1><b>" + isEmpty(info.name) + "</b></h1></span><br>" + isEmpty(info.description) + "<br/><br>" + isEmpty(info.address) + "<br/>" + addWebsite(info.web) + " " + addEmail(info.email);
						infowindow.setContent(content);
					}
				});
			}
			function isEmpty(string){
				if (string == null || string == '') {
					return '';
				} else {
					return string;
				}
			}
			function addWebsite(web){
				if (web == null || web == '') {
					return '';
				} else {
					return "<br><a href='" + web +"' target='_blank'>Visit website</a>  | ";
				}
			}
			function addEmail(email){
				if (email == null || email == '') {
					return '';
				} else {
					return "<a href='mailto:" + email + "'>Contact by email</a>";
				}
			}
							
		</script>	
		<script>
			// menu
			var btnMenu = document.getElementById("btnMenu");
			var mainNav = document.getElementById("main-nav");

			function buttonMenu() {
				btnMenu.classList.toggle("is-active");
				mainNav.classList.toggle("showMenu");
			}
		</script>
	<script async="async" defer="defer" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDKm7VJT8c1jfK0uJseFXJnxNZZmMxm4rA&callback=initMap"></script>	

	<script src="https://unpkg.com/@googlemaps/markerclustererplus/dist/index.min.js"></script>		
	</html>
